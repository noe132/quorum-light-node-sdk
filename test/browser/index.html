<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test esm bundler</title>
</head>
<body>
  
  <script src="../../dist/quorum-light-node-sdk.esm.js"></script>
  <script>
    const sleep = (n = 500) =>
      new Promise(resolve => {
        setTimeout(() => {
          resolve();
        }, n);
      });

      // {
      //   const objectProtoBuffer = QuorumLightNodeSDK.utils.protobuf.create({
      //     type: 'quorum.pb._Object',
      //     payload: {
      //       type: 'Note',
      //       content: 'hello'
      //     }
      //   })
      //   console.log(objectProtoBuffer);
      //   console.log(QuorumLightNodeSDK.utils.typeTransform.uint8ArrayToString(objectProtoBuffer));
      // }

      // {
      //   const objectProtoBuffer = QuorumLightNodeSDK.utils.protobuf.createByAny({
      //     type: 'quorum.pb._Object',
      //     payload: {
      //       type: 'Note',
      //       content: 'hello'
      //     }
      //   })
      //   console.log(objectProtoBuffer);
      //   console.log(QuorumLightNodeSDK.utils.typeTransform.uint8ArrayToString(objectProtoBuffer));
      //   const object = QuorumLightNodeSDK.utils.protobuf.toObject({
      //     type: 'quorum.pb._Object',
      //     buffer: objectProtoBuffer
      //   })
      //   console.log(object);
      // }

    // // add group
    // (async () => {
    //   try {
    //     const seedUrl = 'rum://seed?v=1&e=0&n=0&b=Ptpg6HKIRIaTnVw_f3SKvg&c=wPOoSSDCxbk7owipIwJ4nKmRyyN2wRsW1I_vsxZm1dI&g=gTaSO4IDTgi_51DrO1WOLA&k=Aqa6ngNxgrVhf2kQc4nA-0Wr4tsWiaBrshZJPujT5B9g&s=GDLJ-TcXuo95q-CsUFty7pvMIYZRFRQ3VwrparvjKy00wIYSmx5pl4xT4ALb6AVgNei_is5kn1MuXfh9b5wB-QE&t=Fv89llMDYIA&a=%E8%81%8A%E5%A4%A9%E5%AE%A45&y=group_timeline&u=http://103.61.39.166:9003_jwt=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhbGxvd0dyb3VwcyI6W10sImV4cCI6MTY1OTcwNDI2NCwibmFtZSI6Im5vZGUtYWxsLWdyb3VwcyIsInJvbGUiOiJjaGFpbiJ9.mHeMhunwDGmjnB7PhoKqVrUZI7QbfaGxOPgH2o4WUQo';
    //     const result = QuorumLightNodeSDK.cache.Group.add(seedUrl);
    //     console.log(result);
    //   } catch (err) {
    //     console.log(err);
    //   }
    // })();

    // // get group
    // (async () => {
    //   try {
    //     const groupId = '8136923b-8203-4e08-bfe7-50eb3b558e2c';
    //     const result = QuorumLightNodeSDK.cache.Group.get(groupId);
    //     console.log(result);
    //   } catch (err) {
    //     console.log(err);
    //   }
    // })();

    // // list group
    // (async () => {
    //   try {
    //     const result = QuorumLightNodeSDK.cache.Group.list();
    //     console.log(result);
    //   } catch (err) {
    //     console.log(err);
    //   }
    // })();

    // // update group
    // (async () => {
    //   try {
    //     const groupId = '8136923b-8203-4e08-bfe7-50eb3b558e2c';
    //     const group = QuorumLightNodeSDK.cache.Group.get(groupId);
    //     group.groupName = 'new group name';
    //     const result = QuorumLightNodeSDK.cache.Group.update(groupId, group);
    //     console.log(result);
    //   } catch (err) {
    //     console.log(err);
    //   }
    // })();

    // // create trx
    // (async () => {
    //   try {
    //     const wallet = QuorumLightNodeSDK.ethers.Wallet.createRandom();
    //     const result = await QuorumLightNodeSDK.chain.Trx.create({
    //       groupId: '8136923b-8203-4e08-bfe7-50eb3b558e2c',
    //       object: {
    //         type: 'Note',
    //         content: 'send from JavaScript SDK 3',
    //       },
    //       privateKey: wallet.privateKey,
    //     });
    //     console.log(result);
    //   } catch (err) {
    //     console.log(err);
    //   }
    // })();

    // // get trx
    // (async () => {
    //   try {
    //     const groupId = '8136923b-8203-4e08-bfe7-50eb3b558e2c';
    //     const trxId = '41f1e91e-5604-4539-8dee-7cf7e3ef5046';
    //     const result = await QuorumLightNodeSDK.chain.Trx.get(groupId, trxId);
    //     console.log(result);
    //   } catch (err) {
    //     console.log(err);
    //   }
    // })();

    // // list contents
    // (async () => {
    //   try {
    //     const result = await QuorumLightNodeSDK.chain.Content.list({
    //       groupId: '8136923b-8203-4e08-bfe7-50eb3b558e2c',
    //       count: 500
    //     });
    //     console.log(result);
    //   } catch (err) {
    //     console.log(err);
    //   }
    // })();
  </script>
</body>
</html>